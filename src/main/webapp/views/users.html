<h1>User Lookup</h1>
<div style="height:50px" class="user-lookup">
	<div ng-class="{open:!barcodeWait}">
		<div class="form-inline">
			<input type="text" ng-model="user" ng-class="{error:notFound}" style="width:calc(100% - 100px);height:40px;margin-top:5px" ng-keydown="keyDown($event)" ng-focus="openAutocomplete()" ng-blur="closeAutocomplete()" 
			placeholder="{{notFound?'Could not find user ' + notFound:'Enter McGill username (e.g. first.last, flast7) or student ID (e.g. 260000000)'}}" class="form-control"/>
			<button ng-click="scanBarcode($event)" style="height:40px;margin-top:5px" class="btn btn-default"><span class="glyphicon glyphicon-barcode"></span> Scan ID</button>
		</div>
		<div class="dropdown autocomplete" ng-class="{open:autocompleteOpen,opening:autocompleteOpening||autocompleteClosing}">
			<ul class="dropdown-menu">
				<li ng-repeat="c in autocomplete" ng-class="{disabled:false}">
					<a ng-click="searchAc()" ng-class="{selected:selectedAc===$index}" ng-mouseenter="selectAc($index)">
					<span>{{c.firstLast}} <span class="short-user">{{c.shortUser}}</span></span> <span>{{c.displayName}}</span> 
					</a>
				</li>
			</ul>
		</div>
	</div>
	<div ng-class="{open:barcodeWait}" class="alert alert-info" style="padding:9px">
		<span style="display:inline-block;padding:5px"><span class="spinner-inline"></span> Waiting for user to scan ID... </span>
		<span class="pull-right"><button class="btn btn-info btn-sm" ng-click="cancelScan()">Cancel</button></span>
	</div>
</div>
<ui-view></ui-view>
